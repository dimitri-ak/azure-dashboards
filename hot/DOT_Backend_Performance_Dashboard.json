{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
		"dashboards_name": {
            "defaultValue": "DOTback",
            "type": "String"
        },
        "admin-appInsightName": {
            "defaultValue": "hot-admin-qa",
            "type": "String"
        },
		"admin-appInsight": {
            "defaultValue": "[concat(resourceGroup().id, '/providers/microsoft.insights/components/', parameters('admin-appInsightName'))]",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "type": "Microsoft.Portal/dashboards",
            "apiVersion": "2019-01-01-preview",
            "name": "[parameters('dashboards_name')]",
            "location": "[resourceGroup().location]",
            "tags": {
                "hidden-title": ""
            },
            "properties": {
                "lenses": {
                    "0": {
                        "order": 0,
                        "parts": {
                            "0": {
                                "position": {
                                    "x": 0,
                                    "y": 0,
                                    "rowSpan": 1,
                                    "colSpan": 15
                                },
                                "metadata": {
                                    "inputs": [],
                                    "type": "Extension/HubsExtension/PartType/MarkdownPart",
                                    "settings": {
										"content": {
                  "settings": {
                    "content": "# DOT Backend Performance Dashboard",
                    "title": "",
                    "subtitle": ""
                  }
                }
									}
                                }
                            },
                            "1": {
                                "position": {
                                    "x": 0,
                                    "y": 1,
                                    "rowSpan": 4,
                                    "colSpan": 10
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "// this query calculates request duration percentiles and count by name\nlet start=now()-24h;\nlet end=now();\nlet timeGrain=5m;\nlet dataset=requests\n// additional filters can be applied here\n| where timestamp > start and timestamp < end\n| where client_Type != \"Browser\" ;\ndataset\n// change 'operation_Name' on the below line to segment by a different property\n| summarize count_=sum(itemCount), avg(duration), percentiles(duration, 50, 95, 99) by operation_Name\n// calculate duration percentiles and count for all requests (overall)\n| union(dataset\n| summarize count_=sum(itemCount), avg(duration), percentiles(duration, 50, 95, 99)\n| extend operation_Name=\"Overall\")\n| order by count_ desc\n| limit 6\n"
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "1cb7836b-48cd-49d8-828d-f54f275753be"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Analytics"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsGrid"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {
										"content": {
                  "PartTitle": "Analysis of API, Trends, TOP API Call"
                }
									},
                                    "asset": {}
                                }
                            },
                            "2": {
                                "position": {
                                    "x": 10,
                                    "y": 1,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "availabilityResults/availabilityPercentage",
                                                            "aggregationType": 4,
                                                            "namespace": "microsoft.insights/components",
                                                            "metricVisualization": {
                                                                "displayName": "Availability",
                                                                "color": "#47BDF5"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Average availability",
                                                    "visualization": {
                                                        "chartType": 3,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    },
                                                    "openBladeOnClick": {
                                                        "openBlade": true,
                                                        "destinationBlade": {
                                                            "extensionName": "HubsExtension",
                                                            "bladeName": "ResourceMenuBlade",
                                                            "parameters": {
                                                                "id": "[parameters('admin-appInsight')]",
                                                                "menuid": "availability"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "3": {
                                "position": {
                                    "x": 0,
                                    "y": 5,
                                    "rowSpan": 4,
                                    "colSpan": 10
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let start=now()-24h;\nlet end=now();\nlet timeGrain=5m;\nlet dataset=dependencies\n| where timestamp > start and timestamp < end\n| where client_Type != \"Browser\" ;\ndataset\n| summarize count_=sum(itemCount), avg(duration), percentiles(duration, 50, 95, 99) by substring (target, 45)\n| union(dataset\n| summarize count_=sum(itemCount), avg(duration), percentiles(duration, 50, 95, 99)\n| extend operation_Name=\"Overall\")\n| order by count_ desc\n| project-rename target=Column1\n| limit 6\n"
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "116660e7-1ba2-4398-8b10-648f4a13294c"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Analytics"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsGrid"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {
										"content": {
                  "PartTitle": "Dependency"
                }
									},
                                    "asset": {}
                                }
                            },
                            "4": {
                                "position": {
                                    "x": 10,
                                    "y": 5,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "requests/count",
                                                            "aggregationType": 1,
                                                            "namespace": "microsoft.insights/components/kusto",
                                                            "metricVisualization": {
                                                                "displayName": "Server requests"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Sum Server requests",
                                                    "titleKind": 1,
                                                    "visualization": {
                                                        "chartType": 2,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    }
                                                },
                                                "version": 2
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "5": {
                                "position": {
                                    "x": 0,
                                    "y": 9,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let apdexThreshhold = toint('3754');\nlet apdexData = pageViews\n| where timestamp > ago(1d)\n| where name in ('*') or '*' in ('*')\n| extend success = columnifexists('success', true)\n| extend Failure = iff('ConsiderFailures' == 'ConsiderFailures' and success == false, 1, 0)\n| extend InterestingDimension = iff(isempty(name)== true, 'Unknown', name)\n| where InterestingDimension in ('*') or '*' in ('*')\n| summarize AverageDuration = avg(duration), Failures = sum(Failure) by user_Id, InterestingDimension\n| extend UserExperience = case(AverageDuration <= apdexThreshhold, 'Satisfied', AverageDuration <= 4 * apdexThreshhold, 'Tolerating', 'Frustrated')\n| extend UserExperience = case(Failures > 0, \"Frustrated\", UserExperience)\n| summarize Satisfied = countif(UserExperience == 'Satisfied'), Tolerating = countif(UserExperience == 'Tolerating'), Frustrated = countif(UserExperience == 'Frustrated'), Total = count() by InterestingDimension\n| project InterestingDimension, [\"Satisfied Users\"] = Satisfied, [\"Tolerating Users\"] = Tolerating, [\"Frustrated Users\"] = Frustrated, [\"Apdex Score\"] = round((Satisfied + (Tolerating / 2.0)) / Total, 2), Total\n| extend Relevance = iff([\"Apdex Score\"] == 0, pow(Total, 1.6), Total / [\"Apdex Score\"])\n| project-rename Users = Total\n| order by Relevance desc\n| project-away Users, Relevance;\napdexData\n| extend [\"Apdex Interpretation\"] = case([\"Apdex Score\"] <= 0.5, '⛔ Unacceptable', [\"Apdex Score\"] <= 0.7, '⚠️ Poor', [\"Apdex Score\"] <= 0.85, '⚠️ Fair', [\"Apdex Score\"] <= 0.94, '✔️ Good', '✔️ Excellent')\n| project Values = InterestingDimension, [\"Apdex Score\"], [\"Apdex Interpretation\"], [\"Satisfied Users\"], [\"Tolerating Users\"], [\"Frustrated Users\"]\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "Values",
                                                    "type": "string"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "Apdex Score",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [
                                                    {
                                                        "name": "Apdex Interpretation",
                                                        "type": "string"
                                                    }
                                                ],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "42f1d492-907d-4f90-b129-1b6cee15ce26"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Analytics"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {
										"content": {
                  "PartTitle": "API Apdex (User Satisfaction, Tolerating, Frustrated)"
                }
									},
                                    "asset": {}
                                }
                            },
                            "6": {
                                "position": {
                                    "x": 5,
                                    "y": 9,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "requests/duration",
                                                            "aggregationType": 4,
                                                            "namespace": "microsoft.insights/components",
                                                            "metricVisualization": {
                                                                "displayName": "Server response time",
                                                                "color": "#00BCF2"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Server response time",
                                                    "visualization": {
                                                        "chartType": 2,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    },
                                                    "openBladeOnClick": {
                                                        "openBlade": true,
                                                        "destinationBlade": {
                                                            "extensionName": "HubsExtension",
                                                            "bladeName": "ResourceMenuBlade",
                                                            "parameters": {
                                                                "id": "[parameters('admin-appInsight')]",
                                                                "menuid": "performance"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "7": {
                                "position": {
                                    "x": 10,
                                    "y": 9,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "requests/failed",
                                                            "aggregationType": 7,
                                                            "namespace": "microsoft.insights/components",
                                                            "metricVisualization": {
                                                                "displayName": "Failed requests",
                                                                "color": "#EC008C"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Failed requests",
                                                    "visualization": {
                                                        "chartType": 3,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    },
                                                    "openBladeOnClick": {
                                                        "openBlade": true,
                                                        "destinationBlade": {
                                                            "extensionName": "HubsExtension",
                                                            "bladeName": "ResourceMenuBlade",
                                                            "parameters": {
                                                                "id": "[parameters('admin-appInsight')]",
                                                                "menuid": "failures"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "8": {
                                "position": {
                                    "x": 0,
                                    "y": 13,
                                    "rowSpan": 4,
                                    "colSpan": 10
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let apdexThreshhold = toint('3754');\nlet failureThreshhold = 1;\nlet apdexData = pageViews\n| where timestamp > ago(1d)\n| where name in ('*') or '*' in ('*')\n| extend success = columnifexists('success', true)\n| extend Failure = iff('ConsiderFailures' == 'ConsiderFailures' and success == false, 1, 0)\n| extend InterestingDimension = iff(isempty(name)== true, 'Unknown', name)\n| where InterestingDimension in ('*') or '*' in ('*')\n| summarize AverageDuration = avg(duration), Failures = sum(Failure) by user_Id, bin(timestamp, 30m), InterestingDimension\n| extend UserExperience = case(AverageDuration <= apdexThreshhold, 'Satisfied', AverageDuration <= 4 * apdexThreshhold, 'Tolerating', 'Frustrated')\n| extend UserExperience = case(Failures >= failureThreshhold, \"Frustrated\", UserExperience)\n| summarize Satisfied = countif(UserExperience == 'Satisfied'), Tolerating = countif(UserExperience == 'Tolerating'), Total = count() by timestamp, InterestingDimension\n| project timestamp, ApdexScore = (Satisfied + (Tolerating / 2.0)) / Total, Users = Total, InterestingDimension;\nlet pageRelevance = apdexData\n| summarize [\"Apdex Score\"] = avg(ApdexScore), Users=sum(Users) by InterestingDimension\n| extend Relevance = iff([\"Apdex Score\"] == 0, 1.0 * Users * Users, Users / [\"Apdex Score\"])\n| order by Relevance desc\n| project InterestingDimension\n| take 7;\napdexData\n| join kind = leftouter (pageRelevance) on InterestingDimension\n| extend InterestingDimension = iff(isempty(InterestingDimension1) == true, 'Other', InterestingDimension)\n| project timestamp, ApdexScore, Users, InterestingDimension \n| summarize ApdexScore = avg(ApdexScore) by timestamp, InterestingDimension\n| extend ApdexScore = round(ApdexScore, 3)\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "ApdexScore",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [
                                                    {
                                                        "name": "InterestingDimension",
                                                        "type": "string"
                                                    }
                                                ],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "8fd7591e-5fc0-4497-92df-df81712ea0e9"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Analytics"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {
										"content": {
                  "PartTitle": "Daily Apdex Score"
                }
									},
                                    "asset": {}
                                }
                            },
                            "9": {
                                "position": {
                                    "x": 10,
                                    "y": 13,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "performanceCounters/memoryAvailableBytes",
                                                            "aggregationType": 4,
                                                            "namespace": "microsoft.insights/components",
                                                            "metricVisualization": {
                                                                "displayName": "Available memory",
                                                                "color": "#47BDF5"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Average available memory",
                                                    "visualization": {
                                                        "chartType": 2,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "10": {
                                "position": {
                                    "x": 0,
                                    "y": 17,
                                    "rowSpan": 4,
                                    "colSpan": 10
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let apdexThreshhold = toint('3754');\nlet failureThreshhold = 1;\npageViews\n| where timestamp > ago(1d)\n| where name in ('*') or '*' in ('*')\n| extend success = columnifexists('success', true)\n| extend Failure = iff('ConsiderFailures' == 'ConsiderFailures' and success == false, 1, 0)\n| extend InterestingDimension = iff(isempty(name)== true, 'Unknown', name)\n| where InterestingDimension in ('*') or '*' in ('*')\n| summarize AverageDuration = avg(duration), Failures = sum(Failure) by user_Id, bin(timestamp, 30m)\n| extend UserExperience = case(AverageDuration <= apdexThreshhold, 'Satisfied', AverageDuration <= 4 * apdexThreshhold, 'Tolerating', 'Frustrated')\n| extend UserExperience = case(Failures >= failureThreshhold, \"Frustrated\", UserExperience)\n| summarize count() by UserExperience, timestamp\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "count_",
                                                        "type": "long"
                                                    }
                                                ],
                                                "splitBy": [
                                                    {
                                                        "name": "UserExperience",
                                                        "type": "string"
                                                    }
                                                ],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "2d94edd9-d5a6-4141-a3e6-ed18f696ee27"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Analytics"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {
										"content": {
                  "PartTitle": "Daily Quality Trends"
                }
									},
                                    "asset": {}
                                }
                            },
                            "11": {
                                "position": {
                                    "x": 10,
                                    "y": 17,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "options",
                                            "value": {
                                                "chart": {
                                                    "metrics": [
                                                        {
                                                            "resourceMetadata": {
                                                                "id": "[parameters('admin-appInsight')]"
                                                            },
                                                            "name": "performanceCounters/processCpuPercentage",
                                                            "aggregationType": 3,
                                                            "namespace": "microsoft.insights/components",
                                                            "metricVisualization": {
                                                                "displayName": "Process CPU"
                                                            }
                                                        }
                                                    ],
                                                    "title": "Max Process CPU",
                                                    "titleKind": 1,
                                                    "visualization": {
                                                        "chartType": 1,
                                                        "legendVisualization": {
                                                            "isVisible": true,
                                                            "position": 2,
                                                            "hideSubtitle": false
                                                        },
                                                        "axisVisualization": {
                                                            "x": {
                                                                "isVisible": true,
                                                                "axisType": 2
                                                            },
                                                            "y": {
                                                                "isVisible": true,
                                                                "axisType": 1
                                                            }
                                                        }
                                                    }
                                                },
                                                "version": 2
                                            }
                                        },
                                        {
                                            "name": "sharedTimeRange",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                                    "settings": {}
                                }
                            },
                            "12": {
                                "position": {
                                    "x": 0,
                                    "y": 21,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let start=now()-24h;\nlet end=now();\nlet timeGrain=1h;\nlet dataset=requests\n| where timestamp > start and timestamp < end\n| where operation_Name like \"GET /api/platform/security/users/id/\" ;\ndataset\n| summarize Sec=avg(duration/1000) by timestamp\n| render barchart with(title=\"Login API performance\", ytitle=\"Sec\", legend=visible)\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "Sec",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "0ab51ca1-f691-4815-b58b-71e9825e06b2"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Login API performance"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {},
                                    "asset": {}
                                }
                            },
                            "13": {
                                "position": {
                                    "x": 10,
                                    "y": 21,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let start=now()-24h;\nlet end=now();\nlet timeGrain=1h;\nlet dataset=requests\n| where timestamp > start and timestamp < end\n| where operation_Name like \"POST /api/catalog/search/products\" ;\ndataset\n| summarize Sec=avg(duration/1000) by timestamp\n| render columnchart with(title=\"Catalog API performance\", ytitle=\"Sec\", legend=visible)\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "Sec",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "48ecc351-581c-4b84-b845-4a3abb2901c1"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Catalog API performance"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {},
                                    "asset": {}
                                }
                            },
                            "14": {
                                "position": {
                                    "x": 0,
                                    "y": 25,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let start=now()-24h;\nlet end=now();\nlet timeGrain=1h;\nlet dataset=requests\n| where timestamp > start and timestamp < end\n| where operation_Name like \"PUT /api/carts\" ;\ndataset\n| summarize Sec=avg(duration/1000) by timestamp\n| render barchart with(title=\"Cart API performance\", ytitle=\"Sec\", legend=visible)\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "Sec",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "12ce8a8c-375f-4d1c-ab13-55dd2e67da70"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Cart API performance"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {},
                                    "asset": {}
                                }
                            },
                            "15": {
                                "position": {
                                    "x": 5,
                                    "y": 25,
                                    "rowSpan": 4,
                                    "colSpan": 5
                                },
                                "metadata": {
                                    "inputs": [
                                        {
                                            "name": "ComponentId",
                                            "value": {
                                                "SubscriptionId": "[subscription().subscriptionId]",
                                                "ResourceGroup": "[resourceGroup().name]",
                                                "Name": "[parameters('admin-appInsightName')]",
                                                "ResourceId": "[parameters('admin-appInsight')]"
                                            }
                                        },
                                        {
                                            "name": "Query",
                                            "value": "let start=now()-24h;\nlet end=now();\nlet timeGrain=1h;\nlet dataset=requests\n| where timestamp > start and timestamp < end\n| where operation_Name like \"POST /api/order/customerOrders\" ;\ndataset\n| summarize Sec=avg(duration/1000) by timestamp\n| render barchart with(title=\"Create order API performance\", ytitle=\"Sec\", legend=visible)\n"
                                        },
                                        {
                                            "name": "Dimensions",
                                            "value": {
                                                "xAxis": {
                                                    "name": "timestamp",
                                                    "type": "datetime"
                                                },
                                                "yAxis": [
                                                    {
                                                        "name": "Sec",
                                                        "type": "real"
                                                    }
                                                ],
                                                "splitBy": [],
                                                "aggregation": "Sum"
                                            }
                                        },
                                        {
                                            "name": "Version",
                                            "value": "1.0"
                                        },
                                        {
                                            "name": "PartId",
                                            "value": "40afbd2a-5a54-494c-87c5-5285814ac505"
                                        },
                                        {
                                            "name": "PartTitle",
                                            "value": "Create order API performance"
                                        },
                                        {
                                            "name": "PartSubTitle",
                                            "value": "[parameters('admin-appInsightName')]"
                                        },
                                        {
                                            "name": "resourceTypeMode",
                                            "value": "components"
                                        },
                                        {
                                            "name": "ControlType",
                                            "value": "AnalyticsChart"
                                        },
                                        {
                                            "name": "SpecificChart",
                                            "value": "Bar"
                                        },
                                        {
                                            "name": "TimeRange",
                                            "isOptional": true
                                        },
                                        {
                                            "name": "DashboardId",
                                            "isOptional": true
                                        }
                                    ],
                                    "type": "Extension/AppInsightsExtension/PartType/AnalyticsPart",
                                    "settings": {},
                                    "asset": {}
                                }
                            }
                        }
                    }
                },
                "metadata": {
                    "model": {}
                }
            }
        }
    ]
}